
task updateVersion << {
    def version = extractVersion();
    println "Version: $version"
}

def extractVersion() {
    def pom = new XmlSlurper().parse("pom.xml")
    def version = pom.version.text()

    assert version.endsWith("-SNAPSHOT"): "Only snapshots can be delivered"

    version.substring(0, version.length() - 9)
}
